before using this need to fix lain mpd 

-    local mpdh = string.format("telnet://%s:%s", host, port)
+    local mpdh = string.format("%s %s", host, port)
     local echo = string.format("printf \"%sstatus\\ncurrentsong\\nclose\\n\"", password)
-    local cmd  = string.format("%s | curl --connect-timeout 1 -fsm 3 %s", echo, mpdh)
+    local cmd  = string.format("%s | nc -w1 %s", echo, mpdh)

as 23/09/2025 the glib is broken edit /usr/share/awesome/lib/awful/spawn.lua
1. add local GioUnix = lgi.GioUnix(under local Gio = lgi.Gio)
2. :%s/Gio.UnixInputStream/GioUnix.InputStream/g

